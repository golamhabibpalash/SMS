@model SMS.Entities.ClassFeeList

@{
    ViewData["Title"] = "Edit Fee List";
    GlobalUI.PageTitle = "Class Fee List Edit";
}

<div class="row">
    <div class="col-md-6">
        <form asp-action="Edit" method="post">
            <fieldset class="border border-info p-2">
                <legend class="w-auto text-primary">@GlobalUI.PageTitle</legend>
                <input type="hidden" asp-for="Id" />
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group row">
                    <label asp-for="StudentFeeHeadId" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <select asp-for="StudentFeeHeadId" class="form-control" asp-items="ViewBag.StudentFeeHeadId">
                            <option disabled selected>Select Fee Head</option>
                        </select>

                        <span asp-validation-for="StudentFeeHeadId" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label asp-for="AcademicSessionId" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <select asp-for="AcademicSessionId" class="form-control" asp-items="ViewBag.AcademicSessionId">
                            <option disabled selected>Select Session</option>
                        </select>
                        <span asp-validation-for="AcademicSessionId"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label asp-for="AcademicClassId" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <select asp-for="AcademicClassId" class="form-control" asp-items="ViewBag.AcademicClassId">
                            <option disabled selected value="0">Select Session First</option>
                        </select>
                        <span asp-validation-for="AcademicClassId"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label asp-for="Amount" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <input asp-for="Amount" class="form-control" placeholder="Ex: 500" />
                        <span asp-validation-for="Amount" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label asp-for="StartDate" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <input asp-for="StartDate" class="form-control" type="date" />
                        <span asp-validation-for="StartDate" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label asp-for="EndDate" class="col-md-2 text-md-right col-form-label control-label"></label>
                    <div class="col-md-8">
                        <input asp-for="EndDate" class="form-control" type="date" />
                        <span asp-validation-for="EndDate" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group text-center">
                    <partial name="_Update_Back" model="@Model.Id" />
                </div>

            </fieldset>
        </form>
    </div>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    @if (TempData["editFail"] != null)
    {
        <script src="~/js/AlertifyNotify/warningUpdateFailNotify.js"></script>
        <script src="~/js/AlertifyNotify/AlertifyNofify.js"></script>
    }
    <script>
        let failed = @TempData["failed"];

        $(document).ready(function () {
            $('#AcademicSessionId').change(function () {
                let val = $('#AcademicSessionId option:selected').val();
                if (val > 0) {
                    $('#AcademicClassId').prop('disabled', false);
                    $('#AcademicClassId').find('[value="0"]').remove();
                    let op = '<option selected disabled value="0">Select Class</option>';
                    $('#AcademicClassId').append(op);
                }
                else {
                    $('#AcademicClassId').prop('disabled', true);
                    $('#AcademicClassId').find('[value="0"]').remove();
                    let op = '<option selected disabled value="0">Select Session First</option>';
                    $('#AcademicClassId').append(op);
                }
            });
        });
    </script>
}
